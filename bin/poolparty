#!/usr/bin/ruby
require 'rubygems'
require 'lib/poolparty'
require 'optparse'

parser = OptionParser.new do |opts|
  opts.banner = <<-EOB
PoolParty
========
#{File.basename($0)} [options] [plugin]

EOB
  opts.separator ""
  opts.on("-h", "--help", "Show this help message.") { puts opts; exit }
  opts.parse!(ARGV)
end

list = PoolParty::Optioner.parse(ARGV)
list.each do |act|
  base,action = act.split(":")
  
  case base
  when "plugin"
    # We are working with the plugins    
    case action
      # We are creating a new plugin.
      # Here we will init a new git repository in the plugins directory where this is run
      # We will create a new git repository for you, it will set the name and all
    when "new"
      PoolParty::PluginManager.new(list.pop)
    end    
  end
end